## ----------------------------
## PNDA Components Configuration
## ----------------------------

package-repository:
  persistence:
    enabled: true
    accessMode: ReadWriteOnce
    size: 1Gi

console-frontend:
  conf:
    hdfsLink: "http://hdfs.red-pnda.io"
    kafkaManagerLink: "http://kafka-manager.red-pnda.io"
    grafanaLink: "http://grafana.red-pnda.io"
    jupyterLink: "http://notebooks.red-pnda.io"
  ingress:
    enabled: true
    hosts:
      - console.red-pnda.io

## ----------------------------------
## 3rd party Components Configuration
## ----------------------------------

grafana:
  adminUser: "pnda"
  adminPassword: "pnda"
  ingress:
    enabled: true
    hosts:
      - grafana.red-pnda.io

kafka-manager:
  ingress:
    enabled: true
    hosts:
      - kafka-manager.red-pnda.io

# Check https://zero-to-jupyterhub.readthedocs.io/en/latest/ for customize this section
jupyterhub:
  enabled: true
  auth:
    type: dummy
    whitelist:
      users:
        - pnda
    dummy:
      password: pnda
    admin:
      users:
        - pnda
  proxy:
    # edit with your own 32 bytes secretToken (e.g. generate with openssl rand -hex 32)
    secretToken: "83fc7b97f79e48a88dd565397a165ebfa9053e474350bb338448b94c6b19c076"
  singleuser:
    # Workaround  for microk8s https://github.com/jupyterhub/zero-to-jupyterhub-k8s/issues/1189#issuecomment-472601915
    cloudMetadata:
      enabled: true
  ingress:
    enabled: true
    hosts:
      - notebooks.red-pnda.io

# Setting kafka and zookeeper instances to 1
confluent-platform:
  cp-zookeeper:
    servers: 1
  cp-kafka:
    brokers: 1
    configurationOverrides:
      offsets.topic.replication.factor: "1"
      default.replication.factor: "1"

# Setting hdfs-namenode and hdfs-datanode instances to 1
hdfs:
  enabled: true
  # The base hadoop image to use for all components.
  image:
    repository: gradiant/hadoop-base
    tag: 2.7.7
    pullPolicy: IfNotPresent
  conf:
    hdfsSite:
      dfs.replication: 1
  nameNode:
    pdbMinAvailable: 1
  dataNode:
    replicas: 1
    pdbMinAvailable: 1
  persistence:
    nameNode:
      enabled: true
      accessMode: ReadWriteOnce
      size: 4Gi
    dataNode:
      enabled: true
      accessMode: ReadWriteOnce
      size: 4Gi
  ingress:
    nameNode:
      enabled: true
      path: /
      host: "hdfs.red-pnda.io"

# Setting hbase-region-server instances to 1
hbase:
  regionServer:
    replicas: 1

# Setting opentsdb daemons instances to 1
opentsdb:
  daemons: 1

# Setting spark-standalone worker instances to 1
spark-standalone:
  workers: 1
